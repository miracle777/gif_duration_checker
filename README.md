# gif_duration_checker

# GIFアニメーションの再生時間を計算するプログラムです。

## セットアップ
フォルダを作り、Pythonの仮想環境を作ります。

```bash
cd path\to\gif_duration_checker
python -m venv venv
venv\Scripts\activate
```
## ライブラリのインストール:

```bash
pip install Flask Pillow
```

## アプリケーションの実行:

```bash
python app.py
```

## Webブラウザでアクセス:
実行後、ターミナルに * Running on http://127.0.0.1:5000/ のような表示が出ます。
お使いのWebブラウザ（Edge, Chrome, Firefoxなど）を開き、アドレスバーに http://127.0.0.1:5000/ と入力してアクセスします。

## 使い方:
Webページが表示されたら、「ファイルを選択」ボタンをクリックして、再生時間を計算したいGIFファイルを選びます。
「再生時間を計算」ボタンをクリックします。
処理が成功すると、ファイル名、総フレーム数、計算された合計再生時間（秒）がページ下部に表示されます。
エラーが発生した場合は、画面上部にメッセージが表示されます。

## 補足:
GIFのDuration: GIFの仕様では、各フレームの表示遅延時間（duration）は1/100秒単位で指定されますが、多くの実装（Pillowを含む）ではミリ秒単位で扱います。このコードではミリ秒で取得し、最後に1000で割って秒に変換しています。
Durationが0の場合: GIFによってはフレームのdurationが0の場合があります。ブラウザなどはこれを非常に短い時間（例えば10ミリ秒や100ミリ秒）として扱うことが多いです。上記のコードでは0として加算していますが、もし実際の表示に近い値が必要な場合は、total_duration += duration の部分で if duration == 0: duration = 100 のような処理を追加することも検討できます。

## 終了方法:
アプリケーションを終了するには、実行しているターミナルで Ctrl + C を押します。

# このプログラムについて
このプログラムは、Google Gemini 2.5 Pro Experimental を活用して制作しました。
